[{"id":"a78ff84b.3f41e","type":"tab","label":"Fake News","disabled":false,"info":""},{"id":"5b92518f.f8357","type":"tab","label":"Benzinpreis","disabled":false,"info":""},{"id":"5cc90bce.24fc54","type":"tab","label":"Wetter","disabled":false,"info":""},{"id":"56bf5d59.7fa4b4","type":"ui_base","theme":{"name":"theme-light","lightTheme":{"default":"#0094CE","baseColor":"#0094CE","baseFont":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif","edited":true,"reset":false},"darkTheme":{"default":"#097479","baseColor":"#097479","baseFont":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif","edited":false},"customTheme":{"name":"Untitled Theme 1","default":"#4B7930","baseColor":"#4B7930","baseFont":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"},"themeState":{"base-color":{"default":"#0094CE","value":"#0094CE","edited":false},"page-titlebar-backgroundColor":{"value":"#0094CE","edited":false},"page-backgroundColor":{"value":"#fafafa","edited":false},"page-sidebar-backgroundColor":{"value":"#ffffff","edited":false},"group-textColor":{"value":"#1bbfff","edited":false},"group-borderColor":{"value":"#ffffff","edited":false},"group-backgroundColor":{"value":"#ffffff","edited":false},"widget-textColor":{"value":"#111111","edited":false},"widget-backgroundColor":{"value":"#0094ce","edited":false},"widget-borderColor":{"value":"#ffffff","edited":false},"base-font":{"value":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"}}},"site":{"name":"Node-RED Dashboard","hideToolbar":"false","allowSwipe":"false","dateFormat":"DD/MM/YYYY","sizes":{"sx":48,"sy":48,"gx":6,"gy":6,"cx":6,"cy":6,"px":0,"py":0}}},{"id":"8ea1b7d7.b70b78","type":"twitter-credentials","z":"","screen_name":"@programmierung"},{"id":"f6c8b86e.5c83b","type":"twitter-credentials","z":"","screen_name":"@twusb"},{"id":"d3b47543.345c8","type":"ui_tab","z":"","name":"wenzlaff.de","icon":"dashboard"},{"id":"796b4741.fc3fd","type":"ui_group","z":"","name":"Wetter","tab":"d3b47543.345c8","disp":true,"width":"6","collapse":false},{"id":"b9d10b5e.392c6","type":"ui_group","z":"","name":"Benzinpreis","tab":"d3b47543.345c8","disp":true,"width":"6","collapse":false},{"id":"788505cb.3eebc4","type":"http in","z":"a78ff84b.3f41e","name":"Start per URL http://pi-adresse:1880/fake-news","url":"/fake-news","method":"get","upload":false,"swaggerDoc":"","x":200,"y":420,"wires":[["f244230e.2e2b"]]},{"id":"7d9ae2db.07add4","type":"http response","z":"a78ff84b.3f41e","name":"Antwort des Webservers","x":690,"y":220,"wires":[]},{"id":"1e6dca2b.0a381e","type":"twitter out","z":"a78ff84b.3f41e","twitter":"f6c8b86e.5c83b","name":"an Twitter senden","x":670,"y":280,"wires":[]},{"id":"f244230e.2e2b","type":"function","z":"a78ff84b.3f41e","name":"Fake News Generator","func":"// var tstamp=(new Date).toISOString().replace(/t/gi,' ').trim();\n\nvar messages = [\n    \"Danke\", \n    \"Thanks\", \n    \"Mahalo\", \n    \"Arigato\", \n    \"Dziekuje\", \n    \"Merci\", \n    \"Tak\", \n    \"Nandri\", \n    \"Shukran\", \n    \"Gratias\",\n    \"Carpe Diem\",\n    \"Must have\",\n    \"Positiv\",\n    \"Hyper\",\n    \"Super\",\n    \"Hot ...\",\n    \"A new\",\n    \"Blog über\",\n    \"Guter Kommentar\",\n    \"Sehr guter Kommentar\",\n    \"Klasse\",\n    \"First look\",\n    \"Free\",\n\t\"Super Airline\",\n\t\"Coole Flugzeuge\",\n\t\"Neuer Beitrag\",\n\t\"Neuer guter Post\",\n\t\"Begeisterter\",\n\t\"Hinweis\",\n\t\"Guter Empfang\",\n\t\"Gute Reichweite\",\n\t\"Schau mal\",\n\t\"Fake News\",\n    \"News\",\n\t\"Beachte super Beitrag\",\n\t\"Positiver Hinweis\",\n\t\"Super cooler Hinweis\",\n\t\"Aktueller gehts nicht\",\n\t\"Neue Mindmap\",\n\t\"Sehr Wichtig\",\n\t\"Super aktuell\",\n\t\"Super Urlaub\",\n\t\"Guter Hinweis\"\n];\n\t\nvar hashtags1 = [\n    \"#alexa\",\n    \"#dot\",\n    \"#echo dot\",\n\t\"#eddv\",\n\t\"#haj\",\n\t\"#hanover\",\n\t\"#airways\",\n\t\"#cool\",\n\t\"#pi\",\n\t\"#wenzlaff.de\",\n\t\"#wenzlaff.info\",\n\t\"#kleinhirn.eu\",\n\t\"#junit5\",\n\t\"#testen\",\n\t\"#hannover\",\n\t\"#arduino\",\n\t\"#programmierung\",\n\t\"#raspberry\"\n];\n\t\nvar hashtags2 = [\n    \"#Danke\", \n    \"#Thanks\", \n    \"#Mahalo\", \n    \"#Arigato\", \n    \"#Dziekuje\", \n    \"#Merci\", \n    \"#Tak\", \n    \"#Nandri\", \n    \"#Shukran\", \n    \"#Gratias\",\n\t\"#arduino\",\n\t\"#node-red\",\n\t\"#nodered\",\n\t\"#dump1090\",\n\t\"#flughafen\",\n\t\"#urlaub\",\n\t\"#radar\",\n\t\"#ADSB\",\n\t\"#HAJ\",\n\t\"#Hannover\",\n\t\"#RADAR\",\n\t\"#Langenhagen\",\n\t\"#Bild\",\n\t\"#kleinhirn\",\n\t\"#dontgiveup\",\n\t\"#gibnichtauf\",\n\t\"#Wenzlaff.info\",\n\t\"#mindmap\",\n\t\"#Bremen\",\n\t\"#Airport\",\n\t\"#EDDV\",\n\t\"#ADS-B\",\n\t\"#wenzlaff.de\",\n\t\"#iot\"\n];\n\t\nvar message  = messages[Math.floor(Math.random() * messages.length)];\nvar hashtag1 = hashtags1[Math.floor(Math.random() * hashtags1.length)];\nvar hashtag2 = hashtags2[Math.floor(Math.random() * hashtags2.length)];\n\t\nmsg.payload= message+\" \"+hashtag1+\" \"+hashtag2;\n\nreturn msg;","outputs":1,"noerr":0,"x":400,"y":340,"wires":[["7d9ae2db.07add4","1e6dca2b.0a381e","d5843d87.f6c4f","195ed968.eb6fcf"]]},{"id":"d5843d87.f6c4f","type":"debug","z":"a78ff84b.3f41e","name":"Debugging","active":true,"console":"false","complete":"payload","x":810,"y":340,"wires":[]},{"id":"6c85419d.ad153","type":"comment","z":"a78ff84b.3f41e","name":"Automatischer Fake-News Generator","info":"","x":170,"y":40,"wires":[]},{"id":"dafd7233.7f895","type":"inject","z":"a78ff84b.3f41e","name":"Eintrag senden","topic":"","payload":"","payloadType":"str","repeat":"660","crontab":"","once":true,"onceDelay":"","x":120,"y":100,"wires":[["febf564a.31763"]]},{"id":"3ba70e1b.3f4b32","type":"comment","z":"a78ff84b.3f41e","name":"www.wenzlaff.info","info":"","x":670,"y":40,"wires":[]},{"id":"febf564a.31763","type":"random","z":"a78ff84b.3f41e","name":"Zufallsgenerator","low":"0","high":"1","inte":"true","property":"payload","x":180,"y":180,"wires":[["b4d7349b.5b509"]]},{"id":"b4d7349b.5b509","type":"switch","z":"a78ff84b.3f41e","name":"Schalter","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"1","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":240,"y":260,"wires":[["f244230e.2e2b"]]},{"id":"1d5b7dd9.905e02","type":"http request","z":"a78ff84b.3f41e","name":"an ThingSpeak senden","method":"GET","ret":"obj","url":"http://api.thingspeak.com/update?key=O57PH3NIUQIMHO41&field1=1&status={{{payload}}}","tls":"","x":680,"y":480,"wires":[["d5843d87.f6c4f"]]},{"id":"195ed968.eb6fcf","type":"function","z":"a78ff84b.3f41e","name":"Filter","func":" msg.payload = msg.payload.replace(\"#\",'').trim();\n msg.payload = msg.payload.replace(\"#\",'').trim();\n msg.payload = msg.payload.replace(\" \",'+').trim();\n msg.payload = msg.payload.replace(\" \",'+').trim();\n msg.payload = msg.payload.replace(\" \",'+').trim();\n msg.payload = msg.payload.replace(\" \",'+').trim();\n\n return msg;\n\n","outputs":1,"noerr":0,"x":510,"y":420,"wires":[["1d5b7dd9.905e02"]]},{"id":"5b036cdb.24b544","type":"http request","z":"5b92518f.f8357","name":"Superpreise für Langenhagen abfragen","method":"GET","ret":"obj","url":"https://www.benzinpreis-aktuell.de/api2/fetch.php?key=kfa2Uf35PLI9AeN51864A645","tls":"","x":200,"y":160,"wires":[["a933616b.3ee108","963bd6e3.43c02"]]},{"id":"96a0871d.50424","type":"debug","z":"5b92518f.f8357","name":"","active":true,"console":"false","complete":"false","x":630,"y":300,"wires":[]},{"id":"a933616b.3ee108","type":"contrib-json","z":"5b92518f.f8357","engine":"JSONPath","command":"jq","expr":"$.stations.0.price_super","complete":"property","prop":"payload","name":"Shell Bothfelder Str. 15","x":190,"y":240,"wires":[["96a0871d.50424","192e406b.211748","2222f27f.9b8cc6","538fd617.abad08","9b4f555e.c6fec8"]]},{"id":"963bd6e3.43c02","type":"contrib-json","z":"5b92518f.f8357","engine":"JSONPath","command":"jq","expr":"$.stations.1.price_super","complete":"property","prop":"payload","name":"Hoyer Am Kreisel bei Mc Donalds","x":220,"y":380,"wires":[["96a0871d.50424","e193ffd4.b0faa8","60e9033.ff3b67c","15ece42a.41b754","9b4f555e.c6fec8"]]},{"id":"192e406b.211748","type":"ThingspeakSendSimple","z":"5b92518f.f8357","name":"An Thingspeak Kanal 1 senden","writekey":"0TPH1R343ONJ4DV7","fieldid":"1","x":290,"y":300,"wires":[]},{"id":"130c72f4.fb1abd","type":"comment","z":"5b92518f.f8357","name":"www.wenzlaff.info","info":"","x":770,"y":40,"wires":[]},{"id":"ccd502f8.41b2f","type":"comment","z":"5b92518f.f8357","name":"Ermittelt die Super-Benzin Preise in Langenhagen und sendet sie an Thingspeak","info":"https://www.benzinpreis-aktuell.de/benzinpreise-langenhagen-heute","x":300,"y":40,"wires":[]},{"id":"32c0d15a.9399a6","type":"inject","z":"5b92518f.f8357","name":"Jede Stunde","topic":"","payload":"","payloadType":"date","repeat":"3600","crontab":"","once":false,"x":120,"y":80,"wires":[["5b036cdb.24b544"]]},{"id":"e193ffd4.b0faa8","type":"delay","z":"5b92518f.f8357","name":"Warte 2 Minute","pauseType":"delay","timeout":"2","timeoutUnits":"minutes","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":180,"y":440,"wires":[["f94f907c.3d2fe8"]]},{"id":"f94f907c.3d2fe8","type":"ThingspeakSendSimple","z":"5b92518f.f8357","name":"An Thingspeak Kanal 2 senden","writekey":"0TPH1R343ONJ4DV7","fieldid":"2","x":290,"y":520,"wires":[]},{"id":"2222f27f.9b8cc6","type":"template","z":"5b92518f.f8357","name":"Format","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"Shell Bothfeld: {{payload}} Euro","x":620,"y":240,"wires":[["a10709d8.a2d2f8"]]},{"id":"e9c69f8c.ce8df8","type":"template","z":"5b92518f.f8357","name":"Format","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"Hoyer Am Kreisel: {{payload}} Euro\n","x":620,"y":440,"wires":[["a10709d8.a2d2f8"]]},{"id":"60e9033.ff3b67c","type":"delay","z":"5b92518f.f8357","name":"Warte 10 Sekunden","pauseType":"delay","timeout":"10","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":450,"y":440,"wires":[["e9c69f8c.ce8df8"]]},{"id":"538fd617.abad08","type":"function","z":"5b92518f.f8357","name":"Shell in Context","func":"global.set(\"shell\", msg.payload);\nreturn msg;","outputs":1,"noerr":0,"x":520,"y":140,"wires":[["3ad4cf98.4092b8"]]},{"id":"5cbe6d07.77bc5c","type":"debug","z":"5b92518f.f8357","name":"","active":true,"console":"false","complete":"false","x":1190,"y":180,"wires":[]},{"id":"15ece42a.41b754","type":"function","z":"5b92518f.f8357","name":"Freie in Context","func":"global.set(\"freie\", msg.payload);\nreturn msg;","outputs":1,"noerr":0,"x":520,"y":180,"wires":[["3ad4cf98.4092b8"]]},{"id":"3ad4cf98.4092b8","type":"function","z":"5b92518f.f8357","name":"Ergebnis","func":"var shell = global.get('shell')||0;\nvar freie = global.get('freie')||0;\n\nnode.warn(\"Preis Shell: \" + shell + \" Preis der Freien: \" + freie);\n\nif (shell < freie){\n    var msg1 = { payload: \"Die Shell Tankstelle ist billiger als die Freie.\" };\n    return msg1;\n}else{\n    var msg2 = { payload: \"Die Freie Tankstelle am Kreisel ist billiger.\" };\n    return msg2;\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":700,"y":140,"wires":[["3ba9f2ea.f7e88e","4e87de15.13482"]]},{"id":"3ba9f2ea.f7e88e","type":"rbe","z":"5b92518f.f8357","name":"Nur bei Änderung des Wert weiter","func":"rbe","gap":"","start":"","inout":"out","x":940,"y":180,"wires":[["5cbe6d07.77bc5c","92a718f2.6dddd"]]},{"id":"4e87de15.13482","type":"delay","z":"5b92518f.f8357","name":"Warte 20 Sekunden","pauseType":"delay","timeout":"20","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":890,"y":140,"wires":[["a10709d8.a2d2f8"]]},{"id":"ab22e859.0dd808","type":"ui_button","z":"5b92518f.f8357","name":"","group":"b9d10b5e.392c6","order":1,"width":"","height":"","passthru":false,"label":"Benzinpreise abfragen","color":"","bgcolor":"","icon":"","payload":"","payloadType":"str","topic":"","x":430,"y":80,"wires":[["5b036cdb.24b544"]]},{"id":"92a718f2.6dddd","type":"ui_text","z":"5b92518f.f8357","group":"796b4741.fc3fd","order":3,"width":0,"height":0,"name":"","label":"","format":"{{msg.payload}}","layout":"col-center","x":1170,"y":240,"wires":[]},{"id":"9b4f555e.c6fec8","type":"ui_gauge","z":"5b92518f.f8357","name":"Benzinpreis","group":"b9d10b5e.392c6","order":2,"width":0,"height":0,"gtype":"gage","title":"","label":"Euro","format":"{{value}}","min":"1","max":"2","colors":["#00b500","#e6e600","#ca3838"],"seg1":"1.20","seg2":"1.50","x":890,"y":380,"wires":[]},{"id":"a10709d8.a2d2f8","type":"ui_toast","z":"5b92518f.f8357","position":"top right","displayTime":"3","highlight":"","outputs":0,"ok":"OK","cancel":"","topic":"","name":"Ergebnis Dialog","x":900,"y":300,"wires":[]},{"id":"c996a811.6b786","type":"inject","z":"5cc90bce.24fc54","name":"Täglich um 6:30 Uhr das Wetter abfragen","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"30 06 * * *","once":false,"x":220,"y":240,"wires":[["8cbd0306.0bc3"]]},{"id":"a5876a57.5cd2e8","type":"pushover","z":"5cc90bce.24fc54","name":"Pushover System","device":"","title":"Pushover","priority":0,"sound":"","url":"","url_title":"","x":710,"y":140,"wires":[]},{"id":"e4a0fac5.7a39b","type":"inject","z":"5cc90bce.24fc54","name":"Nachricht Node-Red startet","topic":"","payload":"Nachricht Node-Red startet","payloadType":"str","repeat":"","crontab":"","once":true,"x":180,"y":180,"wires":[["a5876a57.5cd2e8"]]},{"id":"8cbd0306.0bc3","type":"openweathermap","z":"5cc90bce.24fc54","name":"Langenhagen Wetter","wtype":"current","lon":"","lat":"","city":"Langenhagen","country":"Germany","language":"de","x":480,"y":380,"wires":[["44a4ced0.ccb4d"]]},{"id":"1d91c6a7.c73139","type":"comment","z":"5cc90bce.24fc54","name":"www.wenzlaff.info","info":"","x":130,"y":60,"wires":[]},{"id":"44a4ced0.ccb4d","type":"template","z":"5cc90bce.24fc54","name":"Format Wetterdaten","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"Wetter in {{payload.location}} \nTemperatur: {{payload.tempc}} Grad C\nFeuchte   : {{payload.humidity}} % \n\nWindgeschwindigkeit: {{payload.windspeed}} m/s\n\nDetail: {{payload.detail}}","x":480,"y":440,"wires":[["a5876a57.5cd2e8","180e5d74.8b07d3"]]},{"id":"3c75627a.ccc7c6","type":"ui_button","z":"5cc90bce.24fc54","name":"","group":"796b4741.fc3fd","order":1,"width":"","height":"","passthru":false,"label":"Send Pushover Test","color":"","bgcolor":"","icon":"","payload":"Test ob Pushover läuft","payloadType":"str","topic":"","x":240,"y":120,"wires":[["a5876a57.5cd2e8"]]},{"id":"10a11cf4.31de03","type":"ui_button","z":"5cc90bce.24fc54","name":"","group":"796b4741.fc3fd","order":5,"width":"","height":"","passthru":false,"label":"OpenWeatherMap nach Pushover","color":"","bgcolor":"","icon":"","payload":"","payloadType":"str","topic":"","x":180,"y":380,"wires":[["8cbd0306.0bc3"]]},{"id":"180e5d74.8b07d3","type":"ui_text","z":"5cc90bce.24fc54","group":"796b4741.fc3fd","order":6,"width":0,"height":0,"name":"","label":"","format":"{{msg.payload}}","layout":"row-left","x":730,"y":440,"wires":[]}]